import timeit
from server.web_analysis import WebAnalysis
from server.sql_analysis import SQLAnalysis


if __name__ == "__main__":
    # s = WebAnalysis()
    # start = timeit.default_timer()
    # # WebAnalysis.links_w_queries = ['https://post.craigslist.org/c/ldn?lang=en&cc=gb/', 'https://accounts.craigslist.org/login/home?lang=en&cc=gb/', 'https://www.craigslist.org/about/sites?lang=en&cc=gb/', 'https://post.craigslist.org/c/ldn?lang=en&cc=gb/', 'https://accounts.craigslist.org/login/home?lang=en&cc=gb/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-06/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-07/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-08/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-09/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-10/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-11/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-12/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-13/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-14/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-15/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-16/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-17/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-18/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-19/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-20/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-21/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-22/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-23/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-24/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-25/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-26/', 'https://london.craigslist.org/search/eee?sale_date=2022-11-27/', 'https://www.craigslist.org/about/help/?lang=en&cc=gb/', 'https://www.craigslist.org/about/scams?lang=en&cc=gb/', 'https://www.craigslist.org/about/safety?lang=en&cc=gb/', 'https://www.craigslist.org/about/privacy.policy?lang=en&cc=gb/', 'https://www.craigslist.org/about/help/system-status?lang=en&cc=gb/', 'https://www.craigslist.org/about/?lang=en&cc=gb/', 'https://www.craigslist.org/about/open_source?lang=en&cc=gb/', 'https://www.craigslist.org/about/best/all/?lang=en&cc=gb/', 'https://forums.craigslist.org/?areaID=24/', 'https://forums.craigslist.org/?areaID=24&forumID=3232/', 'https://forums.craigslist.org/?areaID=24&forumID=49/', 'https://forums.craigslist.org/?areaID=24&forumID=78/', 'https://forums.craigslist.org/?areaID=24&forumID=5/', 'https://forums.craigslist.org/?areaID=24&forumID=88/', 'https://forums.craigslist.org/?areaID=24&forumID=95/', 'https://forums.craigslist.org/?areaID=24&forumID=47/', 'https://forums.craigslist.org/?areaID=24&forumID=34/', 'https://forums.craigslist.org/?areaID=24&forumID=1564/', 'https://forums.craigslist.org/?areaID=24&forumID=122/', 'https://forums.craigslist.org/?areaID=24&forumID=76/', 'https://forums.craigslist.org/?areaID=24&forumID=130/', 'https://forums.craigslist.org/?areaID=24&forumID=99/', 'https://forums.craigslist.org/?areaID=24&forumID=8/', 'https://forums.craigslist.org/?areaID=24&forumID=41/', 'https://forums.craigslist.org/?areaID=24&forumID=64/', 'https://forums.craigslist.org/?areaID=24&forumID=22/', 'https://forums.craigslist.org/?areaID=24&forumID=2007/', 'https://forums.craigslist.org/?areaID=24&forumID=85/', 'https://forums.craigslist.org/?areaID=24&forumID=54/', 'https://forums.craigslist.org/?areaID=24&forumID=575/', 'https://forums.craigslist.org/?areaID=24&forumID=9/', 'https://forums.craigslist.org/?areaID=24&forumID=81/', 'https://forums.craigslist.org/?areaID=24&forumID=6/', 'https://forums.craigslist.org/?areaID=24&forumID=7/', 'https://forums.craigslist.org/?areaID=24&forumID=1257/', 'https://forums.craigslist.org/?areaID=24&forumID=73/', 'https://forums.craigslist.org/?areaID=24&forumID=79/', 'https://forums.craigslist.org/?areaID=24&forumID=1926/', 'https://forums.craigslist.org/?areaID=24&forumID=53/', 'https://forums.craigslist.org/?areaID=24&forumID=24/', 'https://forums.craigslist.org/?areaID=24&forumID=4/', 'https://forums.craigslist.org/?areaID=24&forumID=39/', 'https://forums.craigslist.org/?areaID=24&forumID=26/', 'https://forums.craigslist.org/?areaID=24&forumID=71/', 'https://forums.craigslist.org/?areaID=24&forumID=5500/', 'https://forums.craigslist.org/?areaID=24&forumID=20/', 'https://forums.craigslist.org/?areaID=24&forumID=29/', 'https://forums.craigslist.org/?areaID=24&forumID=12/', 'https://forums.craigslist.org/?areaID=24&forumID=59/', 'https://forums.craigslist.org/?areaID=24&forumID=28/', 'https://forums.craigslist.org/?areaID=24&forumID=96/', 'https://forums.craigslist.org/?areaID=24&forumID=93/', 'https://forums.craigslist.org/?areaID=24&forumID=32/', 'https://forums.craigslist.org/?areaID=24&forumID=2012/', 'https://forums.craigslist.org/?areaID=24&forumID=1040/', 'https://forums.craigslist.org/?areaID=24&forumID=42/', 'https://forums.craigslist.org/?areaID=24&forumID=98/', 'https://forums.craigslist.org/?areaID=24&forumID=2400/', 'https://forums.craigslist.org/?areaID=24&forumID=7000/', 'https://forums.craigslist.org/?areaID=24&forumID=27/', 'https://www.craigslist.org/about/help/?lang=en&cc=gb/', 'https://www.craigslist.org/about/scams?lang=en&cc=gb/', 'https://www.craigslist.org/about/privacy.policy?lang=en&cc=gb/', 'https://forums.craigslist.org/?forumID=8/', 'https://www.craigslist.org/about/?lang=en&cc=gb/', 'https://www.craigslist.org/about/craigslist_app?lang=en&cc=gb/', 'https://www.craigslist.org/about/craigslist_is_hiring?lang=en&cc=gb/']
    # # WebAnalysis.links = ['https://craigslist.org/', 'https://www.craigslist.org/about/sites/', 'https://essen.craigslist.org/', 'https://www.craigslist.org/about/sites/', 'https://geo.craigslist.org/iso/de/', 'https://essen.craigslist.org/search/eee/', 'https://www.craigslist.org/about/terms.of.use/', 'http://blog.craigslist.org/', 'https://essen.craigslist.org/search/ccc/', 'https://essen.craigslist.org/search/act/', 'https://essen.craigslist.org/search/com/', 'https://essen.craigslist.org/search/eve/', 'https://essen.craigslist.org/search/rnr/', 'https://essen.craigslist.org/search/vol/', 'https://essen.craigslist.org/search/laf/', 'https://essen.craigslist.org/search/grp/', 'https://essen.craigslist.org/search/pet/', 'https://essen.craigslist.org/search/kid/', 'https://essen.craigslist.org/search/ats/', 'https://essen.craigslist.org/search/rid/', 'https://essen.craigslist.org/search/muc/', 'https://essen.craigslist.org/search/vnn/', 'https://essen.craigslist.org/search/pol/', 'https://essen.craigslist.org/search/cls/', 'https://essen.craigslist.org/search/mis/', 'https://essen.craigslist.org/search/bbb/', 'https://essen.craigslist.org/search/biz/', 'https://essen.craigslist.org/search/aos/', 'https://essen.craigslist.org/search/cps/', 'https://essen.craigslist.org/search/evs/', 'https://essen.craigslist.org/search/cys/', 'https://essen.craigslist.org/search/fns/', 'https://essen.craigslist.org/search/sks/', 'https://essen.craigslist.org/search/cms/', 'https://essen.craigslist.org/search/hss/', 'https://essen.craigslist.org/search/pas/', 'https://essen.craigslist.org/search/hws/', 'https://essen.craigslist.org/search/fgs/', 'https://essen.craigslist.org/search/rts/', 'https://essen.craigslist.org/search/bts/', 'https://essen.craigslist.org/search/crs/', 'https://essen.craigslist.org/search/mas/', 'https://essen.craigslist.org/search/lgs/', 'https://essen.craigslist.org/search/trv/', 'https://essen.craigslist.org/search/wet/', 'https://essen.craigslist.org/search/lbs/', 'https://essen.craigslist.org/search/lss/', 'https://essen.craigslist.org/search/hhh/', 'https://essen.craigslist.org/search/off/', 'https://essen.craigslist.org/search/vac/', 'https://essen.craigslist.org/search/sha/', 'https://essen.craigslist.org/search/swp/', 'https://essen.craigslist.org/search/rea/', 'https://essen.craigslist.org/search/hsw/', 'https://essen.craigslist.org/search/prk/', 'https://essen.craigslist.org/search/sub/', 'https://essen.craigslist.org/search/apa/', 'https://essen.craigslist.org/search/roo/', 'https://essen.craigslist.org/search/sss/', 'https://essen.craigslist.org/search/foa/', 'https://essen.craigslist.org/search/tra/', 'https://essen.craigslist.org/search/ata/', 'https://essen.craigslist.org/search/sna/', 'https://essen.craigslist.org/search/cta/', 'https://essen.craigslist.org/search/pta/', 'https://essen.craigslist.org/search/baa/', 'https://essen.craigslist.org/search/bia/', 'https://essen.craigslist.org/search/boo/', 'https://essen.craigslist.org/search/bpa/', 'https://essen.craigslist.org/search/bka/', 'https://essen.craigslist.org/search/ema/', 'https://essen.craigslist.org/search/sya/', 'https://essen.craigslist.org/search/syp/', 'https://essen.craigslist.org/search/ela/', 'https://essen.craigslist.org/search/bip/', 'https://essen.craigslist.org/search/pha/', 'https://essen.craigslist.org/search/waa/', 'https://essen.craigslist.org/search/moa/', 'https://essen.craigslist.org/search/hsa/', 'https://essen.craigslist.org/search/ppa/', 'https://essen.craigslist.org/search/gra/', 'https://essen.craigslist.org/search/cla/', 'https://essen.craigslist.org/search/haa/', 'https://essen.craigslist.org/search/zip/', 'https://essen.craigslist.org/search/ara/', 'https://essen.craigslist.org/search/ava/', 'https://essen.craigslist.org/search/maa/', 'https://essen.craigslist.org/search/fua/', 'https://essen.craigslist.org/search/mca/', 'https://essen.craigslist.org/search/mpa/', 'https://essen.craigslist.org/search/msa/', 'https://essen.craigslist.org/search/gms/', 'https://essen.craigslist.org/search/wta/', 'https://essen.craigslist.org/search/rva/', 'https://essen.craigslist.org/search/cba/', 'https://essen.craigslist.org/search/jwa/', 'https://essen.craigslist.org/search/hva/', 'https://essen.craigslist.org/search/taa/', 'https://essen.craigslist.org/search/sga/', 'https://essen.craigslist.org/search/bar/', 'https://essen.craigslist.org/search/tia/', 'https://essen.craigslist.org/search/bfa/', 'https://essen.craigslist.org/search/vga/', 'https://essen.craigslist.org/search/tla/', 'https://essen.craigslist.org/search/jjj/', 'https://essen.craigslist.org/search/lab/', 'https://essen.craigslist.org/search/egr/', 'https://essen.craigslist.org/search/edu/', 'https://essen.craigslist.org/search/sci/', 'https://essen.craigslist.org/search/acc/', 'https://essen.craigslist.org/search/ret/', 'https://essen.craigslist.org/search/etc/', 'https://essen.craigslist.org/search/tfr/', 'https://essen.craigslist.org/search/mnu/', 'https://essen.craigslist.org/search/fbh/', 'https://essen.craigslist.org/search/npo/', 'https://essen.craigslist.org/search/trd/', 'https://essen.craigslist.org/search/rej/', 'https://essen.craigslist.org/search/csr/', 'https://essen.craigslist.org/search/med/', 'https://essen.craigslist.org/search/mar/', 'https://essen.craigslist.org/search/hea/', 'https://essen.craigslist.org/search/hum/', 'https://essen.craigslist.org/search/lgl/', 'https://essen.craigslist.org/search/gov/', 'https://essen.craigslist.org/search/spa/', 'https://essen.craigslist.org/search/wri/', 'https://essen.craigslist.org/search/sec/', 'https://essen.craigslist.org/search/sof/', 'https://essen.craigslist.org/search/sad/', 'https://essen.craigslist.org/search/tch/', 'https://essen.craigslist.org/search/trp/', 'https://essen.craigslist.org/search/bus/', 'https://essen.craigslist.org/search/sls/', 'https://essen.craigslist.org/search/ofc/', 'https://essen.craigslist.org/search/web/', 'https://essen.craigslist.org/search/ggg/', 'https://essen.craigslist.org/search/rrr/', 'https://berlin.craigslist.org/', 'https://bremen.craigslist.org/', 'https://dresden.craigslist.org/', 'https://dusseldorf.craigslist.org/', 'https://essen.craigslist.org/', 'https://frankfurt.craigslist.org/', 'https://hamburg.craigslist.org/', 'https://hannover.craigslist.org/', 'https://heidelberg.craigslist.org/', 'https://kaiserslautern.craigslist.org/', 'https://cologne.craigslist.org/', 'https://leipzig.craigslist.org/', 'https://munich.craigslist.org/', 'https://nuremberg.craigslist.org/', 'https://stuttgart.craigslist.org/', 'http://amsterdam.craigslist.org/', 'http://berlin.craigslist.org/', 'http://brussels.craigslist.org/', 'http://budapest.craigslist.org/', 'http://cotedazur.craigslist.org/', 'http://dublin.craigslist.org/', 'http://edinburgh.craigslist.org/', 'http://florence.craigslist.org/', 'http://copenhagen.craigslist.org/', 'http://london.craigslist.org/', 'http://munich.craigslist.org/', 'http://oslo.craigslist.org/', 'http://oxford.craigslist.org/', 'http://paris.craigslist.org/', 'http://prague.craigslist.org/', 'http://rome.craigslist.org/', 'http://stockholm.craigslist.org/', 'http://venice.craigslist.org/', 'https://geo.craigslist.org/iso/eg/', 'https://geo.craigslist.org/iso/et/', 'https://geo.craigslist.org/iso/gh/', 'https://geo.craigslist.org/iso/ke/', 'https://geo.craigslist.org/iso/ma/', 'https://geo.craigslist.org/iso/za/', 'https://geo.craigslist.org/iso/tn/', 'https://geo.craigslist.org/iso/ar/', 'https://geo.craigslist.org/iso/bo/', 'http://rio.craigslist.org/', 'https://geo.craigslist.org/iso/cl/', 'https://geo.craigslist.org/iso/cr/', 'https://geo.craigslist.org/iso/do/', 'https://geo.craigslist.org/iso/ec/', 'https://geo.craigslist.org/iso/sv/', 'https://geo.craigslist.org/iso/gt/', 'https://geo.craigslist.org/iso/co/', 'http://mexicocity.craigslist.org/', 'https://geo.craigslist.org/iso/ni/', 'https://geo.craigslist.org/iso/pa/', 'https://geo.craigslist.org/iso/pe/', 'https://geo.craigslist.org/iso/pr/', 'https://geo.craigslist.org/iso/uy/', 'https://geo.craigslist.org/iso/vi/', 'https://geo.craigslist.org/iso/ve/', 'https://geo.craigslist.org/iso/bd/', 'http://shanghai.craigslist.org/', 'https://geo.craigslist.org/iso/hk/', 'https://geo.craigslist.org/iso/id/', 'http://bangalore.craigslist.org/', 'https://geo.craigslist.org/iso/iq/', 'https://geo.craigslist.org/iso/ir/', 'http://telaviv.craigslist.org/', 'http://tokyo.craigslist.org/', 'https://geo.craigslist.org/iso/kw/', 'https://geo.craigslist.org/iso/lb/', 'https://geo.craigslist.org/iso/my/', 'https://geo.craigslist.org/iso/pk/', 'http://manila.craigslist.org/', 'http://moscow.craigslist.org/', 'http://singapore.craigslist.org/', 'https://geo.craigslist.org/iso/kr/', 'https://geo.craigslist.org/iso/tw/', 'https://geo.craigslist.org/iso/th/', 'https://geo.craigslist.org/iso/tr/', 'https://geo.craigslist.org/iso/ae/', 'https://geo.craigslist.org/iso/vn/', 'https://geo.craigslist.org/iso/ps/', 'https://geo.craigslist.org/iso/be/', 'https://geo.craigslist.org/iso/bg/', 'https://geo.craigslist.org/iso/dk/', 'http://berlin.craigslist.org/', 'https://geo.craigslist.org/iso/fi/', 'http://paris.craigslist.org/', 'https://geo.craigslist.org/iso/gr/', 'https://geo.craigslist.org/iso/is/', 'https://geo.craigslist.org/iso/ie/', 'http://rome.craigslist.org/', 'https://geo.craigslist.org/iso/hr/', 'https://geo.craigslist.org/iso/lu/', 'https://geo.craigslist.org/iso/nl/', 'https://geo.craigslist.org/iso/no/', 'https://geo.craigslist.org/iso/at/', 'https://geo.craigslist.org/iso/pl/', 'https://geo.craigslist.org/iso/pt/', 'https://geo.craigslist.org/iso/ro/', 'http://moscow.craigslist.org/', 'https://geo.craigslist.org/iso/se/', 'http://zurich.craigslist.org/', 'http://madrid.craigslist.org/', 'https://geo.craigslist.org/iso/cz/', 'https://geo.craigslist.org/iso/tr/', 'https://geo.craigslist.org/iso/ua/', 'https://geo.craigslist.org/iso/hu/', 'https://geo.craigslist.org/iso/gb/', 'https://geo.craigslist.org/iso/eg/', 'https://geo.craigslist.org/iso/iq/', 'http://telaviv.craigslist.org/', 'https://geo.craigslist.org/iso/kw/', 'https://geo.craigslist.org/iso/lb/', 'https://geo.craigslist.org/iso/tr/', 'https://geo.craigslist.org/iso/ae/', 'https://geo.craigslist.org/iso/ps/', 'http://sydney.craigslist.org/', 'https://geo.craigslist.org/iso/gu/', 'http://auckland.craigslist.org/', 'http://manila.craigslist.org/', 'https://www.craigslist.org/about/terms.of.use/', 'https://essen.craigslist.org/sitemap.html/']
    s = WebAnalysis()
    # s.get_query_keys('https://post.craigslist.org/c/ldn?lang=en&cc=gb/')
    w = SQLAnalysis()
    # w.database_version('https://craigslist.org/')

    # import requests
    # import time
    #
    # url = "https://vip-karpaty.com.ua"
    #
    # start_time = time.time()
    # response = requests.get(url)
    # end_time = time.time()
    #
    # response_time = end_time - start_time
    #
    # print(f'Response time for {url} is {response_time} seconds')
    #

    w.sql_check_stage2()


